<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
	  xmlns:pos="http://pos.com/functions">

<h:head></h:head>
<h:body>
		<h:form id="listaPerfiles"
		onkeyup="if (event.keyCode == 13) { return false; }"
				onkeypress="if (event.keyCode == 13) { return false; }">
                
		<p:layout style="min-width:400px; min-height:400px;">
 			<p:layoutUnit position="west"  size="152" header="Menu" collapsible="true" style="text-align:center">   
    			<p:commandButton 
					id="nuevo"
					icon="ui-icon-plus"
					value="Nuevo"
					action="#{PerfilBeanPrueba.prepareCreate}"
					oncomplete="PF('PerfilCreateDialogPrueba').show()"
					update=":PerfilCreateFormPrueba"
					style="width:140px; 
					text-align:left"/>
 			</p:layoutUnit>>
 			<p:layoutUnit position="center">
    			<div 
    				id="PerfilListForm:perfilListPanel_header"
    				class="ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all">
    					<span class="ui-panel-title">Lista de Perfiles</span>
    			</div>
 				<p:panelGrid columns="2" cellpadding="5" style="margin-top:20px">
 					<p:row>
 						<p:outputLabel value="Nombre" />
    					<br/>
        				<p:autoComplete id="nombre" value="#{autoCompleteView.txt1}" completeMethod="#{autoCompleteView.completeText}" />
    				</p:row>
    				<p:commandButton value="Buscar" id="withIcon" actionListener="#{buttonView.buttonAction}"  icon="ui-icon-search" />
    			</p:panelGrid>
   				<p:growl id="msgs" showDetail="true"/>
 				<p:dataTable id="datalist" var="car" value="#{dtBasicView.cars}" reflow="true" rows="5" paginator="true" paginatorPosition="bottom">
        			<p:column headerText="Nombre">
            			<h:outputText value="#{car.id}" />
        			</p:column>
        			<p:column headerText="Descripcion">
            			<h:outputText value="#{car.year}" />
        			</p:column>
        			<p:column headerText="Estatus">
            			<h:outputText value="#{car.brand}" />
        			</p:column>
        			<p:column style="width:32px;text-align: center">
            			<p:commandButton update=":form:carDetail" oncomplete="PF('carDialog').show()" icon="ui-icon-search" title="View">
                			<f:setPropertyActionListener value="#{car}" target="#{dtSelectionView.selectedCar}" />
            			</p:commandButton>
        			</p:column>
        			<p:column style="width:32px;text-align: center">
            			<p:commandButton update=":form:carDetail" oncomplete="PF('carDialog').show()" icon="ui-icon-search" title="View">
                			<f:setPropertyActionListener value="#{car}" target="#{dtSelectionView.selectedCar}" />
            			</p:commandButton>
        			</p:column>
    			</p:dataTable>
    		</p:layoutUnit>
		</p:layout>
	</h:form>
	<ui:include src="pruebaNuevo.xhtml"/>        
</h:body>
</html>
